https://pdos.csail.mit.edu/6.1810/2023/labs/util.html


BUILDING AND RUNNING XV6

You will need a RISC-V "newlib" tool chain from
https://github.com/riscv/riscv-gnu-toolchain, and qemu compiled for
riscv64-softmmu.  Once they are installed, and in your shell
search path, you can run "make qemu".

    $ make clean
    $ make qemu

if you type Ctrl-p, the kernel will print information about each process.

To quit qemu type: Ctrl-a x (press Ctrl and a at the same time, followed by x).

Run "make grade" to see if you indeed pass the sleep tests.

    $ make grade

Note that make grade runs all tests, including the ones for the assignments below. If you want to run the grade tests for one assignment, type:

     $ ./grade-lab-util sleep
   
This will run the grade tests that match "sleep". Or, you can type:

     $ make GRADEFLAGS=sleep grade
   
which does the same.


User programs on xv6 have a limited set of library functions available to them. You can see the list in user/user.h; the source (other than for system calls) is in user/ulib.c, user/printf.c, and user/umalloc.c.

Changes to the file system persist across runs of qemu; to get a clean file system run "make clean" and then "make qemu".
